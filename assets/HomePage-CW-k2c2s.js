import{r as a,j as e,N as n}from"./index-C93yBCdL.js";import{g as m}from"./index-DDlvirwQ.js";import{S as L}from"./ScrollTrigger-CB6UHAJl.js";import{L as R}from"./LOGOGURUWHITE-CHTaogz7.js";import{L as C,g as $,a as P}from"./loader-circle-BZWnT6vt.js";m.registerPlugin(L);const T=()=>{const f=a.useRef(null),h=a.useRef(null),v=a.useRef(null),x=a.useRef(null),g=a.useRef(null),[d,w]=a.useState([]),[i,N]=a.useState([]),[S,b]=a.useState(!0),[y,k]=a.useState(null);a.useEffect(()=>{(async()=>{try{b(!0),console.log("Starting to fetch data...");const[r,o]=await Promise.all([$(),P()]);console.log("Main services data:",r),console.log("Portfolio services data:",o),w(r),N(o)}catch(r){console.error("Error fetching services:",r),k(r.message)}finally{b(!1)}})()},[]);const u=t=>{console.log("Getting image URL for item:",t);const r=["image","imageUrl","imageURL","image_id","imageId","fileId","thumbnail","imageFileId","coverImage","mainImage"];let o=null;for(const l of r)if(t[l]){o=t[l],console.log(`Found image value in field '${l}':`,o);break}if(o&&o.startsWith("http"))return console.log("Returning direct URL:",o),o;if(o){const l="https://fra.cloud.appwrite.io/v1",c="677004fb002d6dc5b98f",p="67700aab00358208a266";if(o){const j=`${l}/storage/buckets/${p}/files/${o}/view?project=${c}`;return console.log("Constructed Appwrite image URL:",j),j}else console.warn("Missing Appwrite configuration:",{bucketId:p,projectId:c,imageValue:o})}const s=t.title||t.serviceName||t.name||"";return console.log("No image found, using fallback for title:",s),s.toLowerCase().includes("wedding")?"https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80":s.toLowerCase().includes("portrait")||s.toLowerCase().includes("photo")||s.toLowerCase().includes("photography")?"https://images.unsplash.com/photo-1554080353-a576cf803bda?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80":s.toLowerCase().includes("commercial")||s.toLowerCase().includes("business")?"https://images.unsplash.com/photo-1464822759844-d62ea2ef67f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80":s.toLowerCase().includes("video")||s.toLowerCase().includes("videography")?"https://images.unsplash.com/photo-1485846234645-a62644f84728?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80":s.toLowerCase().includes("design")||s.toLowerCase().includes("graphic")?"https://images.unsplash.com/photo-1558655146-364adaf1fcc9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80":"https://images.unsplash.com/photo-1542744095-fcf48d80b0fd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"};return a.useEffect(()=>{if(!f.current)return;const t=m.context(()=>{if(h.current&&m.fromTo(h.current,{opacity:0,y:50},{opacity:1,y:0,duration:1.5,ease:"power3.out"}),x.current){const r=Array.from(x.current.querySelectorAll(".service-card"));r.length&&m.fromTo(r,{y:100,opacity:0},{y:0,opacity:1,duration:1,stagger:.2,scrollTrigger:{trigger:x.current,start:"top 80%",toggleActions:"play none none reverse"}})}if(g.current){const r=Array.from(g.current.querySelectorAll(".portfolio-item"));r.length&&m.fromTo(r,{x:-100,opacity:0},{x:0,opacity:1,duration:1,stagger:.3,scrollTrigger:{trigger:g.current,start:"top 70%",toggleActions:"play none none reverse"}})}},f);return()=>t.revert()},[d,i]),S?e.jsxs("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:[e.jsx(C,{className:"h-12 w-12 text-yellow-400 animate-spin"}),e.jsx("span",{className:"ml-4 text-gray-300",children:"Loading services..."})]}):e.jsxs("div",{ref:f,className:"min-h-screen bg-black text-white",children:[e.jsxs("section",{ref:h,className:"relative h-screen flex items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=1930&q=80")'}}),e.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),e.jsxs("div",{className:"relative z-20 text-center px-4 max-w-6xl mx-auto",children:[e.jsx("img",{ref:v,src:R,alt:"Logo Guru White",className:"mx-auto max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl mb-6"}),e.jsx("p",{className:"text-xl md:text-2xl lg:text-3xl mb-6 text-gray-200",children:"Photography & Videography Services"}),e.jsx("p",{className:"text-base md:text-lg mb-8 max-w-2xl mx-auto text-gray-300",children:"Capturing moments that tell your story."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(n,{to:"/portfolio",children:e.jsx("button",{className:"bg-yellow-400 text-black px-8 py-3 rounded-full font-semibold hover:bg-yellow-300 transition-colors",children:"View Portfolio"})}),e.jsx(n,{to:"/services",children:e.jsx("button",{className:"border-2 border-white px-8 py-3 rounded-full font-semibold hover:bg-white hover:text-black transition-all",children:"Our Services"})})]})]})]}),e.jsx("section",{ref:x,className:"py-20 bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Our Main Services"}),e.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Professional services from Appwrite"}),y?e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-red-400 mb-4",children:["Error: ",y]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-yellow-500 text-black px-6 py-2 rounded-lg",children:"Retry"})]}):d.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-400",children:"No main services found."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(t=>{const r=u(t),o=t.title||t.serviceName||"Service",s=t.description||t.shortDescription||"No description available",l=t.price||t.startingPrice||t.basePrice||0;return e.jsxs("div",{className:"service-card bg-gray-800 p-6 rounded-2xl hover:bg-gray-700 transition-all hover:scale-[1.02]",children:[e.jsx("div",{className:"mb-6 overflow-hidden rounded-xl h-64",children:e.jsx("img",{src:r,alt:o,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500",onError:c=>{console.error("Failed to load image:",r),c.target.src="https://images.unsplash.com/photo-1554080353-a576cf803bda?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}})}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:o}),e.jsx("p",{className:"text-gray-400 mb-4",children:s}),l>0&&e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-yellow-400 font-bold text-xl",children:["$",l]}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Starting price"})]}),e.jsx(n,{to:`/booknow?service=${encodeURIComponent(o)}`,children:e.jsx("button",{className:"bg-yellow-400 text-black px-6 py-2 rounded-lg font-semibold hover:bg-yellow-300 transition-colors",children:"Book Now"})})]})]},t.$id)})})]})}),e.jsx("section",{ref:g,className:"py-20 bg-black",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Portfolio Services"}),e.jsx("p",{className:"text-gray-400 mb-2",children:"Featured portfolio work and services"}),e.jsx(n,{to:"/portfolio",children:e.jsx("span",{className:"text-yellow-400 hover:text-yellow-300 transition-colors cursor-pointer",children:"View all portfolio â†’"})})]}),i.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-400",children:"No portfolio services available."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Add portfolio services to your Appwrite collection."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:i.slice(0,4).map(t=>{const r=u(t),o=t.serviceName||t.title||t.name||"Portfolio Service",s=t.category||t.type||"",l=t.shortDescription||t.description||"",c=t.price||0;return e.jsxs("div",{className:"portfolio-item bg-gray-900 p-4 rounded-xl hover:bg-gray-800 transition-all group",children:[e.jsx("div",{className:"overflow-hidden rounded-lg mb-4 h-48",children:e.jsx("img",{src:r,alt:o,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:p=>{console.error("Failed to load portfolio image:",r),p.target.src="https://images.unsplash.com/photo-1558655146-364adaf1fcc9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:o}),s&&e.jsx("span",{className:"inline-block px-3 py-1 bg-yellow-400/20 text-yellow-300 rounded-full text-sm mb-3",children:s}),e.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:[l.substring(0,100),l.length>100?"...":""]}),c>0&&e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-800",children:[e.jsxs("span",{className:"text-yellow-400 font-bold",children:["$",c]}),e.jsx(n,{to:`/portfolio/${t.$id}`,children:e.jsx("button",{className:"text-sm bg-gray-800 hover:bg-gray-700 px-3 py-1 rounded transition-colors",children:"View"})})]})]},t.$id)})}),e.jsxs("div",{className:"mt-16",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Portfolio Gallery"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map((t,r)=>{if(r>=8)return null;const o=u(t),s=t.serviceName||t.title||t.name||`Project ${r+1}`;return e.jsxs("div",{className:"portfolio-item overflow-hidden rounded-lg group cursor-pointer relative",children:[e.jsx("img",{src:o,alt:s,className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500",onError:l=>{console.error("Failed to load gallery image:",o),l.target.src="https://images.unsplash.com/photo-1558655146-364adaf1fcc9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsx("span",{className:"text-white font-semibold text-sm px-2 text-center",children:s})})]},`gallery-${t.$id}-${r}`)})})]})]}),d.length>0||i.length>0?e.jsx("div",{className:"mt-16 text-center text-gray-500 text-sm",children:e.jsxs("div",{className:"inline-flex gap-6",children:[d.length>0&&e.jsxs("span",{children:[d.length," main services"]}),i.length>0&&e.jsxs("span",{children:[i.length," portfolio services"]})]})}):null]})}),e.jsx("section",{className:"py-20 bg-linear-to-r from-gray-900 to-black",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Work Together?"}),e.jsx("p",{className:"text-gray-400 mb-8 max-w-2xl mx-auto",children:"Browse our portfolio services and main services to find exactly what you need for your project."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(n,{to:"/services",children:e.jsx("button",{className:"bg-yellow-400 text-black px-8 py-3 rounded-full font-semibold hover:bg-yellow-300 transition-colors",children:"View All Services"})}),e.jsx(n,{to:"/contact",children:e.jsx("button",{className:"border-2 border-yellow-400 text-yellow-400 px-8 py-3 rounded-full font-semibold hover:bg-yellow-400 hover:text-black transition-all",children:"Contact Us"})})]})]})})]})};export{T as default};
